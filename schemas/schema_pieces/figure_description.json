{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://raw.githubusercontent.com/echemdb/metadata-schema/main/schemas/figure_description.json",
    "allOf": [{ "$ref": "#/definitions/FigureDescription" }],
    "definitions": {
        "FigureDescription": {
            "type": "object",
            "additionalProperties": false,
            "title": "figureDescription",
            "description": "Description of the data to a figure or plot including data type and measurement details.",
            "properties": {
                "type":
                    { "type": "string",
                        "description": "Source or origin of the data, such as digitized, raw, simulated, or processed.",
                        "example": "raw",
                        "anyOf": [
                            {"const": "digitized", "description": "Data extracted from a figure using software (e.g., svgdigitizer)."},
                            {"const": "raw", "description": "Original data as recorded by the instrument."},
                            {"const": "simulated", "description": "Data generated by simulation software."},
                            {"const": "processed", "description": "Data generated by processing raw or simulated data."}
                        ]
                },
                "measurementType": {
                    "type": "string",
                    "description": "Acronym type for the measurement performed, such as CV; EIS, XPS, etc.",
                    "example": "CV"
                },
                "simultaneousMeasurements": {
                    "type": "array",
                    "description": "Other measurements performed simultaneously, such as ring current, IR, Raman, ICP-MS.",
                    "items": {
                        "type": "string"
                    }
                },
                "comment": {
                    "type": "string",
                    "description": "Additional notes about the figure or data.",
                    "example": "Data below 0 V was cut off by the x-axis."
                },
                "fields": {
                    "type": "array",
                    "description": "Description of data fields/columns in the figure.",
                    "items": {
                        "$ref": "#/definitions/Field"
                    }
                },
                "scanRate": {
                    "description": "Scan rate used in the measurement.",
                    "$ref": "#/definitions/ScanRate"
                }
            },
            "required": [
                "type"
            ]
        },
        "Field": {
            "title": "Field",
            "description": "Description of a data field (column) compatible with frictionless table-schema and extended with echemdb-specific properties for physical quantities.",
            "type": "object",
            "properties": {
                "name": {
                    "type": "string",
                    "description": "Name of the data field. Use single letters for specific systems. Otherwise use descriptive names like 't_rel', 'E_WE', or 'j_WE'.",
                    "example": "E_WE"
                },
                "type": {
                    "type": "string",
                    "description": "Data type of the field (string, number, integer, boolean, object, array, date, time, datetime, year, duration, geopoint, geojson, any).",
                    "example": "number"
                },
                "format": {
                    "type": "string",
                    "description": "Format specification for the field type (default, email, uri, binary, uuid for strings; default for numbers).",
                    "example": "default"
                },
                "title": {
                    "type": "string",
                    "description": "A human-readable title for this field."
                },
                "description": {
                    "type": "string",
                    "description": "A description of that field.",
                    "example": "The potential measured between the working electrode and reference electrode."
                },
                "dimension": {
                    "type": "string",
                    "description": "Physical dimension of the field (e.g., 'time', 'potential', 'current density').",
                    "example": "potential"
                },
                "unit": {
                    "type": "string",
                    "description": "Unit of measurement for this field (SI or conventional electrochemical units), following astropy's string unit notation.",
                    "example": "V"
                },
                "reference": {
                    "type": "string",
                    "description": "Reference electrode or reference point for this measurement (electrochemistry-specific).",
                    "example": "RHE"
                },
                "orientation": {
                    "type": "string",
                    "description": "Axis orientation in plots (horizontal for x-axis, vertical for y-axis).",
                    "example": "horizontal",
                    "enum": ["horizontal", "vertical"]
                }
            },
            "required": ["name"]
        },
        "ScanRate": {
            "$ref": "./general/quantity.json#/definitions/Quantity",
            "description": "The rate at which the data has been recorded.",
            "example": "10 mV / s",
            "title": "scanRate"
        }
    }
}
